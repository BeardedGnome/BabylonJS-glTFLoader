<!DOCTYPE html>
<html>
<head>
    <script src="scripts/babylon.max.js"></script>
    <script src="scripts/babylon.glTFFileLoader.js"></script>   
</head>
<body>  
    <canvas id="renderCanvas"></canvas>
    <script>
        var canvas = document.getElementById("renderCanvas");
        var engine = null;


        function load(url) {
            canvas.width = 800;
            canvas.height = 480;

            if (engine) {
                engine.dispose();
            }

            engine = new BABYLON.Engine(canvas, true);
            engine.enableOfflineSupport = false;

            var split = url.lastIndexOf("/");
            var rootUrl = url.substring(0, split + 1);
            var fileName = url.substring(split + 1, url.length);

            BABYLON.SceneLoader.Load(rootUrl, fileName, engine, function (scene) {
                var camera = new BABYLON.ArcRotateCamera("camera", 0, 0, 1, BABYLON.Vector3.Zero(), scene);
                camera.setPosition(new BABYLON.Vector3(0, 0, 50));
                camera.attachControl(canvas);
                scene.activeCamera = camera;

                var light = new BABYLON.DirectionalLight("light1", new BABYLON.Quaternion(0.4082179, -0.2345697, 0.1093817, 0.8754261), scene);
                light.intensity = 0.7;

                engine.runRenderLoop(function () {
                    scene.render();
                });
            });
        }
        load('Models/PrimitiveModels_IronOld.gltf');
        
    </script>
</body>
</html>
