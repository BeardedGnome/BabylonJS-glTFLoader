<!DOCTYPE html>
<html>
<head>
    <script src="scripts/babylon.max.js"></script>
    <script src="scripts/babylon.glTFFileLoader.js"></script>   
</head>
<body>  
        <p> 
            Select GLTF Model <br/>
        <button onclick="javascript: load(getSampleModelUrl(false, '2CylinderEngine'))">2CylinderEngine</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'Box'))">Box</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'BoxAnimated'))">BoxAnimated</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'BoxSemantics'))">BoxSemantics</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'BoxTextured'))">BoxTextured</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'BoxWithoutIndices'))">BoxWithoutIndices</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'BrainStem'))">BrainStem</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'Buggy'))">Buggy</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'CesiumMan'))">CesiumMan</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'CesiumMilkTruck'))">CesiumMilkTruck</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'Duck'))">Duck</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'GearboxAssy'))">GearboxAssy</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'Monster'))">Monster</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'ReciprocatingSaw'))">ReciprocatingSaw</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'RiggedFigure'))">RiggedFigure</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'RiggedSimple'))">RiggedSimple</button>
        <button onclick="javascript: load(getSampleModelUrl(false, 'VC'))">VC</button>
    </p>
    <p>
       Select GLB Model  <br />
        <button onclick="javascript: load(getSampleModelUrl(true, '2CylinderEngine'))">2CylinderEngine</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'Box'))">Box</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'BoxAnimated'))">BoxAnimated</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'BoxSemantics'))">BoxSemantics</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'BoxTextured'))">BoxTextured</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'BoxWithoutIndices'))">BoxWithoutIndices</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'BrainStem'))">BrainStem</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'Buggy'))">Buggy</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'CesiumMan'))">CesiumMan</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'CesiumMilkTruck'))">CesiumMilkTruck</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'Duck'))">Duck</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'GearboxAssy'))">GearboxAssy</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'Monster'))">Monster</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'ReciprocatingSaw'))">ReciprocatingSaw</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'RiggedFigure'))">RiggedFigure</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'RiggedSimple'))">RiggedSimple</button>
        <button onclick="javascript: load(getSampleModelUrl(true, 'VC'))">VC</button>
    </p>
    <canvas id="renderCanvas"></canvas>
    <script>
        var canvas = document.getElementById("renderCanvas");
        var engine = null;

        function load(url) {
            canvas.width = 800;
            canvas.height = 480;

            if (engine) {
                engine.dispose();
            }

            engine = new BABYLON.Engine(canvas, true);
            engine.enableOfflineSupport = false;

            var split = url.lastIndexOf("/");
            var rootUrl = url.substring(0, split + 1);
            var fileName = url.substring(split + 1, url.length);

            BABYLON.SceneLoader.Load(rootUrl, fileName, engine, function (scene) {
                var camera = new BABYLON.ArcRotateCamera("camera", 0, 0, 1, BABYLON.Vector3.Zero(), scene);
                camera.setPosition(new BABYLON.Vector3(0, 0, -50));
                camera.attachControl(canvas);
                scene.activeCamera = camera;

                var light = new BABYLON.DirectionalLight("light1", new BABYLON.Quaternion(0.4082179, -0.2345697, 0.1093817, 0.8754261), scene);
                light.intensity = 0.7;

                engine.runRenderLoop(function () {
                    scene.render();
                });
            });
        }

        function getSampleModelUrl(glb, name) {
            if (glb) {
                return "https://raw.githubusercontent.com/KhronosGroup/glTF/master/sampleModels/" + name + "/glTF-Binary/" + name + ".glb";
            }
            else {
                return "https://raw.githubusercontent.com/KhronosGroup/glTF/master/sampleModels/" + name + "/glTF/" + name + ".gltf";
            }
        }
    </script>
</body >
</html>
